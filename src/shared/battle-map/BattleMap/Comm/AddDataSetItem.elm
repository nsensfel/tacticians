module BattleMap.Comm.AddDataSetItem exposing (prefix, get_decoder_for)

-- Elm -------------------------------------------------------------------------
import Json.Decode

-- Battle Map ------------------------------------------------------------------
import BattleMap.Comm.AddTile

-- Local Module ----------------------------------------------------------------
import Struct.ServerReply

--------------------------------------------------------------------------------
-- TYPES -----------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- LOCAL -----------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- EXPORTED --------------------------------------------------------------------
--------------------------------------------------------------------------------
prefix : String
prefix = "amds"

get_decoder_for : String -> (Json.Decode.Decoder Struct.ServerReply.Type)
get_decoder_for reply_type =
   case reply_type of
      "amds_tile" -> (BattleMap.Comm.AddTile.decode)

      other ->
         (Json.Decode.fail
            (
               "Unknown server command \""
               ++ other
               ++ "\""
            )
         )
